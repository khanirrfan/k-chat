{"ast":null,"code":"var _jsxFileName = \"/home/irfan/Desktop/tag_mango_test/client/src/component/message/message.js\";\nimport React, { useEffect } from 'react';\nimport { Form, Icon, Input, Button, Row, Col } from 'antd';\nimport io from \"socket.io-client\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\n\nconst Message = () => {\n  useEffect(() => {}); // componentDidMount() {\n  //     let server = \"http://localhost:5000\";\n  //     this.socket = io(server);\n  //     this.socket.on(\"Output Chat Message\", messageFromBackEnd => {\n  //         console.log(messageFromBackEnd)\n  //     })\n  // }\n\n  const hanleSearchChange = e => {\n    this.setState({\n      chatMessage: e.target.value\n    });\n  };\n\n  const submitChatMessage = e => {\n    e.preventDefault();\n    let chatMessage = this.state.chatMessage;\n    let userId = this.props.user.userData._id;\n    let userName = this.props.user.userData.name;\n    let userImage = this.props.user.userData.image;\n    let nowTime = moment();\n    let type = \"Image\";\n    this.socket.emit(\"Input Chat Message\", {\n      chatMessage,\n      userId,\n      userName,\n      userImage,\n      nowTime,\n      type\n    });\n    this.setState({\n      chatMessage: \"\"\n    });\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      fontSize: '2rem',\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \" Real Time Chat\")), React.createElement(\"div\", {\n    style: {\n      maxWidth: '800px',\n      margin: '0 auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"infinite-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    ref: el => {\n      this.messagesEnd = el;\n    },\n    style: {\n      float: \"left\",\n      clear: \"both\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Form, {\n    layout: \"inline\",\n    onSubmit: this.submitChatMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Col, {\n    span: 18,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Input, {\n    id: \"message\",\n    prefix: React.createElement(Icon, {\n      type: \"message\",\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }),\n    placeholder: \"Let's start talking\",\n    type: \"text\",\n    value: this.state.chatMessage,\n    onChange: this.hanleSearchChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(Col, {\n    span: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Col, {\n    span: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    style: {\n      width: '100%'\n    },\n    onClick: this.submitChatMessage,\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    type: \"enter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(Message);","map":{"version":3,"sources":["/home/irfan/Desktop/tag_mango_test/client/src/component/message/message.js"],"names":["React","useEffect","Form","Icon","Input","Button","Row","Col","io","connect","moment","Message","hanleSearchChange","e","setState","chatMessage","target","value","submitChatMessage","preventDefault","state","userId","props","user","userData","_id","userName","name","userImage","image","nowTime","type","socket","emit","fontSize","textAlign","maxWidth","margin","el","messagesEnd","float","clear","color","width","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,GAApC,EAAyCC,GAAzC,QAAqD,MAArD;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAQC,MAAR,MAAqB,QAArB;;AAEA,MAAMC,OAAO,GAAG,MAAO;AAEvBV,EAAAA,SAAS,CAAC,MAAM,CAEf,CAFQ,CAAT,CAFuB,CAKnB;AACA;AAEA;AAEA;AACA;AACA;AACA;;AAEA,QAAMW,iBAAiB,GAAGC,CAAD,IAAO;AAC5B,SAAKC,QAAL,CAAc;AACVC,MAAAA,WAAW,EAAEF,CAAC,CAACG,MAAF,CAASC;AADZ,KAAd;AAGH,GAJD;;AAMA,QAAMC,iBAAiB,GAAIL,CAAD,IAAO;AAC7BA,IAAAA,CAAC,CAACM,cAAF;AAEA,QAAIJ,WAAW,GAAG,KAAKK,KAAL,CAAWL,WAA7B;AACA,QAAIM,MAAM,GAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,CAAyBC,GAAtC;AACA,QAAIC,QAAQ,GAAG,KAAKJ,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,CAAyBG,IAAxC;AACA,QAAIC,SAAS,GAAG,KAAKN,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,CAAyBK,KAAzC;AACA,QAAIC,OAAO,GAAGpB,MAAM,EAApB;AACA,QAAIqB,IAAI,GAAG,OAAX;AAEA,SAAKC,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB,EAAuC;AACnClB,MAAAA,WADmC;AAEnCM,MAAAA,MAFmC;AAGnCK,MAAAA,QAHmC;AAInCE,MAAAA,SAJmC;AAKnCE,MAAAA,OALmC;AAMnCC,MAAAA;AANmC,KAAvC;AAQA,SAAKjB,QAAL,CAAc;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAAd;AACH,GAnBD;;AAsBI,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,KAAK,EAAE;AAAEmB,MAAAA,QAAQ,EAAE,MAAZ;AAAoBC,MAAAA,SAAS,EAAE;AAA/B,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CADJ,EAKI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE,OAAZ;AAAqBC,MAAAA,MAAM,EAAE;AAA7B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII;AACI,IAAA,GAAG,EAAEC,EAAE,IAAI;AACP,WAAKC,WAAL,GAAmBD,EAAnB;AACH,KAHL;AAII,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,KAAK,EAAE;AAAxB,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADJ,EAaI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,MAAM,EAAC,QAAb;AAAsB,IAAA,QAAQ,EAAE,KAAKvB,iBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACI,IAAA,EAAE,EAAC,SADP;AAEI,IAAA,MAAM,EAAE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,SAAX;AAAqB,MAAA,KAAK,EAAE;AAAEwB,QAAAA,KAAK,EAAE;AAAT,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFZ;AAGI,IAAA,WAAW,EAAC,qBAHhB;AAII,IAAA,IAAI,EAAC,MAJT;AAKI,IAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWL,WALtB;AAMI,IAAA,QAAQ,EAAE,KAAKH,iBANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAWI,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,EAeI,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,KAAK,EAAE;AAAE+B,MAAAA,KAAK,EAAE;AAAT,KAA9B;AAAiD,IAAA,OAAO,EAAE,KAAKzB,iBAA/D;AAAmF,IAAA,QAAQ,EAAC,QAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAfJ,CADJ,CAbJ,CALJ,CADJ;AA8CP,CAzFD;;AA2FA,MAAM0B,eAAe,GAAGxB,KAAK,IAAI;AAC7B,SAAO;AACHG,IAAAA,IAAI,EAAEH,KAAK,CAACG;AADT,GAAP;AAGH,CAJD;;AAOA,eAAed,OAAO,CAACmC,eAAD,CAAP,CAAyBjC,OAAzB,CAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport { Form, Icon, Input, Button, Row, Col, } from 'antd';\nimport io from \"socket.io-client\";\nimport { connect } from \"react-redux\";\nimport  moment  from \"moment\";\n\nconst Message = () =>  {\n  \nuseEffect(() => {\n\n});\n    // componentDidMount() {\n    //     let server = \"http://localhost:5000\";\n\n    //     this.socket = io(server);\n\n    //     this.socket.on(\"Output Chat Message\", messageFromBackEnd => {\n    //         console.log(messageFromBackEnd)\n    //     })\n    // }\n\n    const hanleSearchChange =(e) => {\n        this.setState({\n            chatMessage: e.target.value\n        })\n    }\n\n    const submitChatMessage = (e) => {\n        e.preventDefault();\n\n        let chatMessage = this.state.chatMessage\n        let userId = this.props.user.userData._id\n        let userName = this.props.user.userData.name;\n        let userImage = this.props.user.userData.image;\n        let nowTime = moment();\n        let type = \"Image\"\n\n        this.socket.emit(\"Input Chat Message\", {\n            chatMessage,\n            userId,\n            userName,\n            userImage,\n            nowTime,\n            type\n        });\n        this.setState({ chatMessage: \"\" })\n    }\n\n    \n        return (\n            <React.Fragment>\n                <div>\n                    <p style={{ fontSize: '2rem', textAlign: 'center' }}> Real Time Chat</p>\n                </div>\n\n                <div style={{ maxWidth: '800px', margin: '0 auto' }}>\n                    <div className=\"infinite-container\">\n                        {/* {this.props.chats && (\n                            <div>{this.renderCards()}</div>\n                        )} */}\n                        <div\n                            ref={el => {\n                                this.messagesEnd = el;\n                            }}\n                            style={{ float: \"left\", clear: \"both\" }}\n                        />\n                    </div>\n\n                    <Row >\n                        <Form layout=\"inline\" onSubmit={this.submitChatMessage}>\n                            <Col span={18}>\n                                <Input\n                                    id=\"message\"\n                                    prefix={<Icon type=\"message\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                    placeholder=\"Let's start talking\"\n                                    type=\"text\"\n                                    value={this.state.chatMessage}\n                                    onChange={this.hanleSearchChange}\n                                />\n                            </Col>\n                            <Col span={2}>\n                                \n                            </Col>\n\n                            <Col span={4}>\n                                <Button type=\"primary\" style={{ width: '100%' }} onClick={this.submitChatMessage}  htmlType=\"submit\">\n                                    <Icon type=\"enter\" />\n                                </Button>\n                            </Col>\n                        </Form>\n                    </Row>\n                </div>\n            </React.Fragment>\n        )\n    \n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.user\n    }\n}\n\n\nexport default connect(mapStateToProps)(Message);"]},"metadata":{},"sourceType":"module"}